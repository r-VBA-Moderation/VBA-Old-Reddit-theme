@use '../abstracts/mixins' as v;

html {
  .RESUserTag {
    @include v.theme("color", v.$bodyText);
  }

  #userTaggerVotesDown,
  #userTaggerVotesUp {
    box-sizing: content-box;
  }

  .voteWeight {
    @include v.theme("background-color", v.$body, $important: true);
    @include v.theme("color", v.$secondary-text, $important: true);
  }

  div.res-search-options.res-search-pane.res-search-pane-open {
    @include v.theme("background-color", v.$body, $important: true);
  }
  .RESMacroDropdown,
  .res-show-link {
    @include v.thing(true);
  }

  .RESMacroDropdown li a {
    @include v.theme("color", v.$inactiveText);
    border-radius: 0;
  }
  .viewSource textarea[readonly] {
    @include v.theme("background", v.$canvas);
    @include v.theme("color", v.$inactiveText);
  }

  .res-nightmode #sr-header-area,
  .res-nightmode #sr-more-link {
    @include v.theme("background-color", v.$body, true);
    @include v.theme("color", v.$inactiveText, true);
  }

  &.res-commentBoxes body > .content {
    padding-right: v.$padding !important;
  }

  .res-filterline,
  .subredditInfoToolTip,
  .commentarea .res-expando-box div.usertext-body .md {
    @include v.theme("background-color", v.$body);
  }

  .res-filterline {
    border-radius: 0px;
  }
  .res-filterline-filter-hiding {
    @include v.theme("color", v.$inactiveText);
  }

  .RESHover,
  #srList {
    @include v.thing(true);
  }

  #RESStyleSheetTipPane {
    @include v.theme("border", v.$line, false, true, "1px solid");
  }

  #RESStyleSheetTipPane-header {
    @include v.theme("border-bottom", v.$line, false, true, "1px solid");
  }

  .res-voteEnhancements-highlightScores span.score {
    font-weight: bold;
    @include v.theme("color", v.$metaText);
  }

  // RES Selection
  .entry.res-selected,
  .entry.res-selected .md-container {
    @include v.theme(
      "background-color",
      v.$highlight-background,
      false,
      false,
      "!important"
    );
  }
  .res {
    .RES-keyNav-activeElement {
      @include v.theme("outline-color", v.$line, false, false, "!important");
    }
  }

  div {
    &.RES-keyNav-activeElement {
      // background-color: transparent !important;
      @include v.theme("border-left", v.$separator, false, true, "3px solid");
    }
  }

  // RES Tag Dialog + RES Tag

  .RESDialogSmall {
    @include v.thing;

    > h3 {
      @include v.theme("color", v.$primary);
      @include v.theme("background-color", v.$body);
      @include v.theme("border-left", v.$separator, false, true, "3px solid");
      @include v.theme("border-bottom", v.$line, false, true, "1px solid");
    }
  }

  .RESCloseButton {
    &:hover {
      @include v.theme("border", v.$active, false, true, "1px solid");
    }
  }

  #userTaggerToolTip {
    input[type="text"],
    select {
      @include v.theme("border-color", v.$line, false, false, "!important");
    }
  }

  .toggleButton {
    // line-height: 0.8;

    .toggleOn {
      // border-radius: 0;
      border: 1px solid #4f8ef7;
      @include v.theme("background-color", v.$primary);
      @include v.theme("color", v.$body);
      // text-transform: capitalize;
    }

    .toggleOff {
      border-radius: v.$radius;
      @include v.theme("border", v.$separator, false, true, "1px solid");
      background-color: transparent;
      // text-transform: capitalize;
    }
  }

  // Input Fields

  // Misc. Fixes

  .res .thing .tagline .author {
    border-radius: v.$radius !important;
  }

  &:hover {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    background-color: v.getColor("role", "submitter") !important;
  }

  .res {
    #userbarToggle {
      background-color: transparent;
      @include v.theme("color", v.$secondary-text);
    }
    #sr-header-area a.RESShortcutsCurrentSub,
    #RESSubredditGroupDropdown .RESShortcutsCurrentSub a {
      @include v.theme("color", v.$lightText, false, false, "!important");
      @include v.theme(
        "border-bottom",
        v.$separator,
        false,
        false,
        "2px solid"
      );
    }
  }
  .res {
    #REScommentNavToggle {
      @include v.theme("background-color", v.$body);

      &:hover {
        max-width: 100%;
      }
    }
  }

  .res {
    .commentarea {
      .thing {
        border: none !important;
        border-radius: v.$radius !important;
      }
      & .comment {
        @include v.theme("border", v.$line, false, true, "1px solid", true);
        margin-left: 0px !important;
        &.spam {
          background-image: none;
          border-left: 4px solid v.getColor("removed") !important;
        }
      }
    }

    .RESshortcutside:hover,
    .RESDashboardToggle:hover {
      background-color: transparent;
      @include v.theme("color", v.$linkText);
    }

    #progressIndicator {
      @include v.theme("color", v.$placeholder);
      @include v.theme("background-color", v.$body);
      h2 {
        @include v.theme("color", v.$metaText);
      }
    }

    .NERPageMarker {
      @include v.theme("background-color", v.$body);
    }
  }

  // More RES Fixes

  .res {
    .link .tagline a.voteWeight {
      background-color: transparent !important;
    }
  }

  #header-bottom-right #userbarToggle + * {
    margin-left: 0 !important;
  }

  .res {
    .srSep {
      @include v.theme("color", v.$bodyText);
    }

    #RESShortcutsViewport {
      margin-right: 381px;
    }

    #RESShortcutsEditContainer {
      margin-right: 312px;
      background-color: transparent !important;
      @include v.theme("color", v.$inactiveText, false, false, "!important");
      top: 1px !important;
      padding-right: 23px;
    }
  }

  #RESShortcutsSort,
  #RESShortcutsRight,
  #RESShortcutsLeft,
  #RESShortcutsAdd,
  #RESShortcutsTrash {
    background-color: transparent !important;
    @include v.theme("color", v.$inactiveText, false, false, "!important");
    top: 1px !important;
    padding-right: 23px;
  }

  .res #RESShortcuts {
    @include v.theme("color", v.$bodyText);
  }

  // Pinheader

  .pinHeader-sub #sr-header-area,
  .pinHeader-subanduser #sr-header-area {
    background-image: v.getImage("headerimg");
    background-position: 50% 0;
  }

  .pinHeader-sub #header-bottom-left,
  .pinHeader-subanduser #header-bottom-left {
    margin-top: 0;
  }

  .pinHeader-header {
    &:before {
      display: none !important;
    }

    .content {
      margin-top: 12px !important;
    }

    .side {
      margin-top: 164px;
    }

    &.res.comments-page .side {
      margin-top: 290px;
    }

    #header {
      top: 0;
      background-image: v.getImage("headerimg");
      height: 84px;
      box-shadow: 0 1px 5px rgba(0, 0, 0, 0.24);
    }
  }

  // Gear Dropdown

  // .gearIcon {
  //   background: v.getImage("spritesheet") -64px 0 !important;
  //   position: relative;
  //   top: 2px;
  //   transition: all 0.25s ease;
  // }

  #RESMainGearOverlay {
    @include v.theme("background-color", v.$menu);
    top: 0 !important;
    height: 26px !important;
    border-radius: 0 !important;
  }

  .RESDropdownList {
    @include v.theme("border-color", v.$menu);
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.24);
    margin-top: 4px;
    margin-right: 8px;

    li {
      @include v.theme("background-color", v.$menu);
      @include v.theme("color", v.$menuActiveText);
      @include v.theme("border-color", v.$menu);
      transition: all 0.15s ease;

      &:first-letter {
        text-transform: capitalize;
      }
    }

    a {
      @include v.theme("color", v.$menuActiveText);

      &:visited {
        @include v.theme("color", v.$menuActiveText);
      }
    }

    li {
      &:hover,
      a:hover {
        @include v.theme("color", v.$menuActiveText);
        @include v.theme("background-color", v.$active);
      }
    }
  }

  #RESSearchMenuItem {
    @include v.theme("border", v.$line, false, true, "1px solid");
    border-radius: 1px;
    @include v.theme("background-color", v.$active);

    &:hover {
      @include v.theme("background-color", v.$active);
    }
  }

  .toggleButton {
    .toggleOn,
    .toggleOff {
      text-transform: lowercase;
    }
  }

  // Toggle Off

  .moduleToggle:not(.enabled) .toggleOn,
  .toggleButton:not(.enabled) .toggleOn,
  .moduleToggle.enabled .toggleOff,
  .toggleButton.enabled .toggleOff {
    background-color: transparent;
    @include v.theme("color", v.$lightText);
    @include v.theme("border", v.$button, false, true, "1px solid");
    transition: all 0.15s ease;
    border-radius: v.$radius;
  }

  // Toggle On

  .moduleToggle.enabled .toggleOn,
  .toggleButton.enabled .toggleOn,
  .moduleToggle:not(.enabled) .toggleOff,
  .toggleButton:not(.enabled) .toggleOff {
    @include v.theme("color", v.$button);
    @include v.theme("border", v.$body, false, true, "1px solid");
    @include v.theme("background-color", v.$body);
    font-weight: bolder;
    transition: all 0.15s ease;
  }

  .markdownEditor .edit-btn:not(.btn-macro) {
    border: 0 solid !important;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12);
  }

  // RES Popup

  .guider {
    border: none;
    @include v.theme("box-shadow", v.$separator, false, true, "0 2px 3px");
  }

  .guider_content h1 {
    @include v.theme("color", v.$primary);
  }

  .guider_button {
    font-size: 11px;
    border: none;
    background-image: none;
    @include v.theme("background-color", v.$button);
    transition: all 0.15s ease;

    &:hover {
      @include v.theme("background-color", v.$active);
    }
  }

  .x_button {
    transition: all 0.25s ease;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0);

    &:hover {
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.15);
    }
  }

  // RES Nightmode
  .res-nightmode {
    .drop-choices a.choice {
      @include v.theme("color", v.$bodyText, true, false, "!important");
    }
    .sidebox {
      background-color: transparent;
    }
    a {
      @include v.theme("color", v.$linkText, true);
    }
    .morelink {
      a {
        @include v.theme("color", v.$inactiveText, true);
      }
    }
  }
  // Voting Arrows

  // Pure White

  .comment .score {
    font-size: inherit;
    font-weight: 700;
    @include v.theme("color", v.$secondary-text);

    &:before {
      content: "• ";
      margin: 0 2px;
      vertical-align: middle;
      line-height: 14px;
    }
  }

  #search #searchexpando label {
    padding-top: 0;
    padding-bottom: 0;
  }
}
